<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.jesi.backpack.async documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Backpack</span> <span class="project-version">6.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jesi</span></div></div></li><li class="depth-3"><a href="io.jesi.backpack.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backpack</span></div></a></li><li class="depth-4 branch current"><a href="io.jesi.backpack.async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.atom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atom</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.clojure.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.clojurescript.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojurescript</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.collection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.env.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>env</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.exceptions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exceptions</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.fn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-5 branch"><a href="io.jesi.backpack.http.codes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codes</span></div></a></li><li class="depth-5 branch"><a href="io.jesi.backpack.http.response.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>response</span></div></a></li><li class="depth-5"><a href="io.jesi.backpack.http.status.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>status</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.json.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>json</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.miscellaneous.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>miscellaneous</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.number.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>number</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.specter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specter</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.string.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string</span></div></a></li><li class="depth-4"><a href="io.jesi.backpack.transit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transit</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.jesi.backpack.async.html#var-.3C.3F"><div class="inner"><span>&lt;?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-chan"><div class="inner"><span>chan</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-close.21"><div class="inner"><span>close!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-closed.3F"><div class="inner"><span>closed?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-go"><div class="inner"><span>go</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-go-call"><div class="inner"><span>go-call</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-go-retry"><div class="inner"><span>go-retry</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-go-try"><div class="inner"><span>go-try</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-open.3F"><div class="inner"><span>open?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-put.21"><div class="inner"><span>put!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.async.html#var-when-open"><div class="inner"><span>when-open</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.jesi.backpack.async</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-.3C.3F"><h3>&lt;?</h3><h4 class="type">macro</h4><div class="usage"><code>(&lt;? ch)</code></div><div class="doc"><div class="markdown"><p>Same as core.async &lt;! but throws an exception if the channel returns a throwable object. Also will not crash if channel is nil.</p></div></div></div><div class="public anchor" id="var-chan"><h3>chan</h3><div class="usage"><code>(chan)</code><code>(chan buf-or-n)</code><code>(chan buf-or-n xform)</code><code>(chan buf-or-n xform ex-handler)</code></div><div class="doc"><div class="markdown"><p>Creates a channel with an optional buffer, an optional transducer (like (map f), (filter p) etc or a composition thereof), and an optional exception-handler. If buf-or-n is a number, will create and use a fixed buffer of that size. If a transducer is supplied a buffer must be specified. ex-handler must be a fn of one argument - if an exception occurs during transformation it will be called with the Throwable as an argument, and any non-nil return value will be placed in the channel.</p></div></div></div><div class="public anchor" id="var-close.21"><h3>close!</h3><div class="usage"><code>(close! chan)</code></div><div class="doc"><div class="markdown"><p>Closes a channel. The channel will no longer accept any puts (they will be ignored). Data in the channel remains available for taking, until exhausted, after which takes will return nil. If there are any pending takes, they will be dispatched with nil. Closing a closed channel is a no-op. Returns the channel.</p>
<p>Logically closing happens after all puts have been delivered. Therefore, any blocked or parked puts will remain blocked/parked until a taker releases them.</p></div></div></div><div class="public anchor" id="var-closed.3F"><h3>closed?</h3><div class="usage"><code>(closed? chan)</code></div><div class="doc"><div class="markdown"><p>returns true if the channel is nil or closed</p></div></div></div><div class="public anchor" id="var-go"><h3>go</h3><h4 class="type">macro</h4><div class="usage"><code>(go &amp; body)</code></div><div class="doc"><div class="markdown"><p>Asynchronously executes the body, returning immediately to the calling thread. Additionally, any visible calls to &lt;!, &gt;! and alt!/alts! channel operations within the body will block (if necessary) by ‘parking’ the calling thread rather than tying up an OS thread (or the only JS thread when in ClojureScript). Upon completion of the operation, the body will be resumed.</p>
<p>Returns a channel which will receive the result of the body when completed</p></div></div></div><div class="public anchor" id="var-go-call"><h3>go-call</h3><h4 class="type">macro</h4><div class="usage"><code>(go-call f chan)</code></div><div class="doc"><div class="markdown"><p>Takes a function and a channel. Takes the value of the chanel using <code>&lt;?</code> and applies it to <code>f</code>. Returns a channel which contains the result (or exception).</p></div></div></div><div class="public anchor" id="var-go-retry"><h3>go-retry</h3><h4 class="type">macro</h4><div class="usage"><code>(go-retry {:keys [retries delay should-retry-fn], :or {retries 5, delay 1, should-retry-fn (quote io.jesi.backpack.exceptions/exception?)}} &amp; body)</code></div><div class="doc"><div class="markdown"><p>Attempts to evaluate a go block and retries it if <code>should-retry-fn</code> which is invoked with block’s evaluation result evaluates to false. <code>should-retry-fn</code> is optional and by default it will simply check if result is an exception. If the evaluation still fails after given retries, the last failed result will be returned in channel. Parameters: * retries - how many times to retry (default 5 times) * delay - how long to wait in seconds between retries (default 1s) * should-retry-fn - function that is invoked with result of block’s  evaluation and should indicate whether to retry  (if it returns true) or not (returns false)</p></div></div></div><div class="public anchor" id="var-go-try"><h3>go-try</h3><h4 class="type">macro</h4><div class="usage"><code>(go-try &amp; body)</code></div><div class="doc"><div class="markdown"><p>Asynchronously executes the body in a go block. Returns a channel which will receive the result of the body when completed or an exception if one is thrown.</p></div></div></div><div class="public anchor" id="var-open.3F"><h3>open?</h3><div class="usage"><code>(open? chan)</code></div><div class="doc"><div class="markdown"><p>returns true if the channel is open. The complement of <code>closed?</code></p></div></div></div><div class="public anchor" id="var-put.21"><h3>put!</h3><div class="usage"><code>(put! chan val)</code></div><div class="doc"><div class="markdown"><p>Asynchronously puts a val into a channel if it’s open. <code>nil</code> values are ignored. Returns the channel.</p></div></div></div><div class="public anchor" id="var-when-open"><h3>when-open</h3><h4 class="type">macro</h4><div class="usage"><code>(when-open chan &amp; body)</code></div><div class="doc"><div class="markdown"></div></div></div></div></body></html>