<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.jesi.backpack.collection documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Backpack</span> <span class="project-version">7.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jesi</span></div></div></li><li class="depth-3"><a href="io.jesi.backpack.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>backpack</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.atom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atom</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.clojure.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojure</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.clojurescript.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clojurescript</span></div></a></li><li class="depth-4 branch current"><a href="io.jesi.backpack.collection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.env.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>env</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.exceptions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exceptions</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.fn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fn</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-5 branch"><a href="io.jesi.backpack.http.codes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codes</span></div></a></li><li class="depth-5 branch"><a href="io.jesi.backpack.http.response.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>response</span></div></a></li><li class="depth-5"><a href="io.jesi.backpack.http.status.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>status</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.macros.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.miscellaneous.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>miscellaneous</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.number.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>number</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-4 branch"><a href="io.jesi.backpack.specter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specter</span></div></a></li><li class="depth-4"><a href="io.jesi.backpack.string.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-assoc-in"><div class="inner"><span>assoc-in</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-assoc-some.21"><div class="inner"><span>assoc-some!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-collify"><div class="inner"><span>collify</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-concat.21"><div class="inner"><span>concat!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-conj.21"><div class="inner"><span>conj!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-conj-some.21"><div class="inner"><span>conj-some!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-contains-any.3F"><div class="inner"><span>contains-any?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-create-index"><div class="inner"><span>create-index</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-default-changed-merger"><div class="inner"><span>default-changed-merger</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-default-comparator"><div class="inner"><span>default-comparator</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-diff"><div class="inner"><span>diff</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-dissoc-all"><div class="inner"><span>dissoc-all</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-dissoc-in"><div class="inner"><span>dissoc-in</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-distinct-by"><div class="inner"><span>distinct-by</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-empty-.3Enil"><div class="inner"><span>empty-&gt;nil</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-filter-empty"><div class="inner"><span>filter-empty</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-filter-nil-keys"><div class="inner"><span>filter-nil-keys</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-filter-values"><div class="inner"><span>filter-values</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-first-some"><div class="inner"><span>first-some</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-in.3F"><div class="inner"><span>in?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-index-comparator"><div class="inner"><span>index-comparator</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-map-leaves"><div class="inner"><span>map-leaves</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-reduce-leaves"><div class="inner"><span>reduce-leaves</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-remove-empty"><div class="inner"><span>remove-empty</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-remove-nil-vals"><div class="inner"><span>remove-nil-vals</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-rename-keys.21"><div class="inner"><span>rename-keys!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-safe-empty.3F"><div class="inner"><span>safe-empty?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-select-non-nil-keys"><div class="inner"><span>select-non-nil-keys</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-select-vals"><div class="inner"><span>select-vals</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-sorted-map-by-index"><div class="inner"><span>sorted-map-by-index</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-sorted-map-by-order"><div class="inner"><span>sorted-map-by-order</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-sorted.3F"><div class="inner"><span>sorted?</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-trans-reduce"><div class="inner"><span>trans-reduce</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-trans-reduce-kv"><div class="inner"><span>trans-reduce-kv</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-transform-keys"><div class="inner"><span>transform-keys</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-translate-keys"><div class="inner"><span>translate-keys</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-update.21"><div class="inner"><span>update!</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-update-some"><div class="inner"><span>update-some</span></div></a></li><li class="depth-1"><a href="io.jesi.backpack.collection.html#var-update-some.21"><div class="inner"><span>update-some!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.jesi.backpack.collection</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-assoc-in"><h3>assoc-in</h3><div class="usage"><code>(assoc-in m &amp; kvs)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-assoc-some.21"><h3>assoc-some!</h3><div class="usage"><code>(assoc-some! tmap k v)</code></div><div class="doc"><div class="markdown"><p>Assocs some value into a transitive map</p></div></div></div><div class="public anchor" id="var-collify"><h3>collify</h3><div class="usage"><code>(collify)</code><code>(collify v)</code></div><div class="doc"><div class="markdown"><p>Puts value <code>v</code> in a vector if it is not a collection. Returns <code>nil</code> if no value</p></div></div></div><div class="public anchor" id="var-concat.21"><h3>concat!</h3><div class="usage"><code>(concat!)</code><code>(concat! tcoll)</code><code>(concat! tcoll seq)</code><code>(concat! tcoll seq &amp; more)</code></div><div class="doc"><div class="markdown"><p>Adds the values to the transient collection, returning tcoll. Concatenates of the elements in the supplied sequences</p></div></div></div><div class="public anchor" id="var-conj.21"><h3>conj!</h3><div class="usage"><code>(conj!)</code><code>(conj! tcoll)</code><code>(conj! tcoll val)</code><code>(conj! tcoll val &amp; more)</code></div><div class="doc"><div class="markdown"><p>Adds val to the transient collection, and return tcoll. The ‘addition’ may happen at different ‘places’ depending on the concrete type.</p></div></div></div><div class="public anchor" id="var-conj-some.21"><h3>conj-some!</h3><div class="usage"><code>(conj-some! tcoll v)</code></div><div class="doc"><div class="markdown"><p>Adds a value to the transitive collection if some</p></div></div></div><div class="public anchor" id="var-contains-any.3F"><h3>contains-any?</h3><div class="usage"><code>(contains-any? map &amp; keys)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-create-index"><h3>create-index</h3><div class="usage"><code>(create-index ks)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-default-changed-merger"><h3>default-changed-merger</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-default-comparator"><h3>default-comparator</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-diff"><h3>diff</h3><div class="usage"><code>(diff existing updated)</code><code>(diff leaf-pred existing updated)</code><code>(diff leaf-pred comparator existing updated)</code><code>(diff leaf-pred comparator changed-merger existing updated)</code></div><div class="doc"><div class="markdown"><p>Returns a map of paths which have changed :added, :changed, :removed, and :same</p></div></div></div><div class="public anchor" id="var-dissoc-all"><h3>dissoc-all</h3><div class="usage"><code>(dissoc-all map &amp; keys)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-dissoc-in"><h3>dissoc-in</h3><div class="usage"><code>(dissoc-in m path &amp; paths)</code></div><div class="doc"><div class="markdown"><p>Dissociates paths from a map. Any empty maps produced will be removed</p></div></div></div><div class="public anchor" id="var-distinct-by"><h3>distinct-by</h3><div class="usage"><code>(distinct-by key entities)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-empty-.3Enil"><h3>empty-&gt;nil</h3><div class="usage"><code>(empty-&gt;nil x)</code></div><div class="doc"><div class="markdown"><p>Returns <code>nil</code> if argument returns <code>true</code> for <code>(clojure.core/empty?)</code></p></div></div></div><div class="public anchor" id="var-filter-empty"><h3>filter-empty</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-filter-nil-keys"><h3>filter-nil-keys</h3><div class="usage"><code>(filter-nil-keys map)</code></div><div class="doc"><div class="markdown"><p>Filters out all nil key values from a map</p></div></div></div><div class="public anchor" id="var-filter-values"><h3>filter-values</h3><div class="usage"><code>(filter-values pred map)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-first-some"><h3>first-some</h3><div class="usage"><code>(first-some m &amp; ks)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-in.3F"><h3>in?</h3><div class="usage"><code>(in? col el)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-index-comparator"><h3>index-comparator</h3><div class="usage"><code>(index-comparator idx)</code><code>(index-comparator idx not-found-fn)</code></div><div class="doc"><div class="markdown"><p>Returns a comparator function that sorts based on the provided <code>idx</code> map. Takes an optional <code>not-found-fn</code> that’s called when a key is not found in the <code>idx</code>, takes a key and returns a sort index. The default <code>not-found-fn</code> returns the count of <code>idx</code>.</p></div></div></div><div class="public anchor" id="var-map-leaves"><h3>map-leaves</h3><div class="usage"><code>(map-leaves f coll)</code><code>(map-leaves f leaf-pred coll)</code></div><div class="doc"><div class="markdown"><p>Traverses and applies the mapping function to each leaf of a data structure. The mapping function is given the path and value at that path</p></div></div></div><div class="public anchor" id="var-reduce-leaves"><h3>reduce-leaves</h3><div class="usage"><code>(reduce-leaves f coll)</code><code>(reduce-leaves f init coll)</code><code>(reduce-leaves f init leaf-pred coll)</code></div><div class="doc"><div class="markdown"><p>Traverses and reduces a data structure where the reducing function is given an accumulator, vector path and value at that path</p></div></div></div><div class="public anchor" id="var-remove-empty"><h3>remove-empty</h3><div class="usage"><code>(remove-empty x)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-remove-nil-vals"><h3>remove-nil-vals</h3><div class="usage"><code>(remove-nil-vals map)</code></div><div class="doc"><div class="markdown"><p>Shallowly removes nil values from a map</p></div></div></div><div class="public anchor" id="var-rename-keys.21"><h3>rename-keys!</h3><div class="usage"><code>(rename-keys! tmap kmap)</code></div><div class="doc"><div class="markdown"><p>Returns the transient map with the keys in kmap renamed to the vals in kmap</p></div></div></div><div class="public anchor" id="var-safe-empty.3F"><h3>safe-empty?</h3><div class="usage"><code>(safe-empty? x)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-select-non-nil-keys"><h3>select-non-nil-keys</h3><div class="usage"><code>(select-non-nil-keys m keys)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-select-vals"><h3>select-vals</h3><div class="usage"><code>(select-vals m ks)</code></div><div class="doc"><div class="markdown"><p>Selects all values from a map using specified keys. Missing keys return nil</p></div></div></div><div class="public anchor" id="var-sorted-map-by-index"><h3>sorted-map-by-index</h3><div class="usage"><code>(sorted-map-by-index idx &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-sorted-map-by-order"><h3>sorted-map-by-order</h3><div class="usage"><code>(sorted-map-by-order ks &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-sorted.3F"><h3>sorted?</h3><div class="usage"><code>(sorted? coll)</code><code>(sorted? comp coll)</code></div><div class="doc"><div class="markdown"><p>True if a collection is sorted by means of a 2 or 3 way comparator</p></div></div></div><div class="public anchor" id="var-trans-reduce"><h3>trans-reduce</h3><div class="usage"><code>(trans-reduce f [c &amp; coll])</code><code>(trans-reduce f init coll)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-trans-reduce-kv"><h3>trans-reduce-kv</h3><div class="usage"><code>(trans-reduce-kv f init coll)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-transform-keys"><h3>transform-keys</h3><div class="usage"><code>(transform-keys f coll)</code></div><div class="doc"><div class="markdown"><p>Recursively transforms all map keys in coll with f</p></div></div></div><div class="public anchor" id="var-translate-keys"><h3>translate-keys</h3><div class="usage"><code>(translate-keys kmap map)</code></div><div class="doc"><div class="markdown"><p>Updates map with the keys from kmap</p></div></div></div><div class="public anchor" id="var-update.21"><h3>update!</h3><div class="usage"><code>(update! tcoll k f)</code><code>(update! tcoll k f x)</code><code>(update! tcoll k f x y)</code><code>(update! tcoll k f x y z)</code><code>(update! tcoll k f x y z &amp; more)</code></div><div class="doc"><div class="markdown"><p>‘Updates’ a value in an transient associative structure, where k is a key and f is a function that will take the old value and any supplied args and return the new value, and returns a new structure. If the key does not exist, nil is passed as the old value.</p></div></div></div><div class="public anchor" id="var-update-some"><h3>update-some</h3><div class="usage"><code>(update-some m k f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Updates a key in a map with a function, only if the key is present and the result of <code>f</code> is not nil.</p></div></div></div><div class="public anchor" id="var-update-some.21"><h3>update-some!</h3><div class="usage"><code>(update-some! tmap k f)</code></div><div class="doc"><div class="markdown"><p>Replaces the value of a key in a transitive map if the result of the function is some</p></div></div></div></div></body></html>